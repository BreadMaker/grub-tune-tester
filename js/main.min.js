var e=new(window.AudioContext||window.webkitAudioContext);function t(e){var t=e.split(" "),n={};for(n.tempo=parseInt(t[0]),n.tune=[],t=t.splice(1);t.length>0;)n.tune.push({frequency:parseInt(t[0]),duration:parseInt(t[1])}),t=t.splice(2);return n}function n(e){for(var t=0,n=0;n<e.tune.length;n++)t+=1/(e.tempo/60)*e.tune[n].duration;$("#notes").text(e.tune.length),$("#duration").text(Math.round(1e3*t))}function a(t){if(isNaN(t.tempo))$("#tune, #play").removeClass("disabled").removeAttr("disabled");else for(var n=e.currentTime,a=t.tune.length,o=0,i=e.createGain(),r=0;r<a;r++){var u=e.createOscillator();u.connect(i),i.connect(e.destination),i.gain.value=.0625,o=1/(t.tempo/60)*t.tune[r].duration,u.type="square",u.frequency.value=t.tune[r].frequency,r==a-1&&(u.onended=function(e){$("#tune, #play").removeClass("disabled").removeAttr("disabled")}),u.start(n),u.stop(n+o),n+=o}}$(document).ready(function(){$("#tune").dropdown({onChange:function(e,a){n(t(a))},allowAdditions:!0,hideAdditions:!1}).trigger("change"),$("#tune-form").submit(function(e){e.preventDefault(),$("#tune, #play").addClass("disabled").attr("disabled","disabled"),a(t($("#tune").val()))}),n(t($("#tune").val()))});
//# sourceMappingURL=main.min.js.map